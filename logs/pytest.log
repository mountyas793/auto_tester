》》 INFO     2025-07-22 17:13:07 [pytest_result_log:122] :  Start: testCase/test_select_statistics.py::TestSupplierMaterial::test_select_material_category_valid[SelectMaterialCategory] 《
》》 INFO     2025-07-22 17:13:07 [requests:66] :  >> 接口地址 <<: get  http://192.168.0.87:8080/dev-api/dc-supplier-new/supplierMaterialBrand/selectSupplierMaterial 《
》》 INFO     2025-07-22 17:13:07 [requests:69] :  >> 请求头 <<: {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpblR5cGUiOiJsb2dpbiIsImxvZ2luSWQiOiJzeXNfdXNlcjoxIiwicm5TdHIiOiJaQTFFNTlHM0dsUHNUWjlCanJlNGJRTlNaRWo4ejNXTCIsIm1vYmlsZSI6IiJ9.czCASCunrPida82C6cXn99EWMOKtBlHbWoMHzywSwVk'} 《
》》 INFO     2025-07-22 17:13:07 [requests:84] :  >> 状态码 <<: 200 《
》》 INFO     2025-07-22 17:13:07 [requests:87] :  >> 响应头 <<: {'X-Powered-By': 'Express', 'vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers, Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'tlogtraceid': '17183512103491328', 'content-type': 'application/json; charset=UTF-8', 'date': 'Tue, 22 Jul 2025 09:13:06 GMT', 'content-encoding': 'gzip', 'transfer-encoding': 'chunked', 'connection': 'close'} 《
》》 INFO     2025-07-22 17:13:07 [requests:89] :  >> 响应体 <<: {'code': 200, 'msg': '操作成功', 'data': [{'id': '1838835630969303042', 'parentId': 0, 'label': '装饰/建材', 'weight': None, 'createTime': '2024-09-25 14:59:12', 'remarks': '', 'children': [{'id': '1856167678914453505', 'parentId': '1838835630969303042', 'label': '手孔井', 'weight': None, 'createTime': '2024-11-12 10:50:35', 'remarks': ''}, {'id': '1844578845395632129', 'parentId': '1838835630969303042', 'label': '钢材', 'weight': None, 'createTime': '2024-10-11 11:20:42', 'remarks': ''}]}, {'id': '1838835075173691393', 'parentId': 0, 'label': '电工/电气', 'weight': None, 'createTime': '2024-09-25 14:57:00', 'remarks': '', 'children': [{'id': '1839186937542344705', 'parentId': '1838835075173691393', 'label': '线管/配件', 'weight': None, 'createTime': '2024-09-26 14:15:11', 'remarks': ''}, {'id': '1867112262007894018', 'parentId': '1838835075173691393', 'label': '室外泛光照明', 'weight': None, 'createTime': '2024-12-12 15:40:27', 'remarks': ''}, {'id': '1849691196402745346', 'parentId': '1838835075173691393', 'label': '控制设备', 'weight': None, 'createTime': '2024-10-25 13:55:21', 'remarks': ''}, {'id': '1849691248609247234', 'parentId': '1838835075173691393', 'label': '开关面板', 'weight': None, 'createTime': '2024-10-25 13:55:33', 'remarks': ''}, {'id': '1854791384809201666', 'parentId': '1838835075173691393', 'label': '发电机', 'weight': None, 'createTime': '2024-11-08 15:41:41', 'remarks': ''}, {'id': '1869630335088701442', 'parentId': '1838835075173691393', 'label': '防雷器', 'weight': None, 'createTime': '2024-12-19 14:26:22', 'remarks': ''}, {'id': '1839186982945685505', 'parentId': '1838835075173691393', 'label': '开关电源', 'weight': None, 'createTime': '2024-09-26 14:15:21', 'remarks': ''}, {'id': '1839202417187487745', 'parentId': '1838835075173691393', 'label': '箱体', 'weight': None, 'createTime': '2024-09-26 15:16:41', 'remarks': '', 'children': [{'id': '1839202602164682754', 'parentId': '1839202417187487745', 'label': '入户箱', 'weight': None, 'createTime': '2024-09-26 15:17:25', 'remarks': ''}, {'id': '1839215253628387330', 'parentId': '1839202417187487745', 'label': '弱电箱', 'weight': None, 'createTime': '2024-09-26 16:07:42', 'remarks': ''}, {'id': '1839215364626448386', 'parentId': '1839202417187487745', 'label': 'ODF箱', 'weight': None, 'createTime': '2024-09-26 16:08:08', 'remarks': ''}, {'id': '1849281703453966338', 'parentId': '1839202417187487745', 'label': '机柜', 'weight': None, 'createTime': '2024-10-24 10:48:10', 'remarks': ''}, {'id': '1839215400491941889', 'parentId': '1839202417187487745', 'label': '设备箱', 'weight': None, 'createTime': '2024-09-26 16:08:17', 'remarks': ''}]}, {'id': '1839187849526640642', 'parentId': '1838835075173691393', 'label': '控制柜/配电柜', 'weight': None, 'createTime': '2024-09-26 14:18:48', 'remarks': ''}, {'id': '1839185443015360514', 'parentId': '1838835075173691393', 'label': '桥架线槽', 'weight': None, 'createTime': '2024-09-26 14:09:14', 'remarks': ''}, {'id': '1839185495494492162', 'parentId': '1838835075173691393', 'label': '线缆', 'weight': None, 'createTime': '2024-09-26 14:09:27', 'remarks': '', 'children': [{'id': '1839544402658201601', 'parentId': '1839185495494492162', 'label': '强电线缆', 'weight': None, 'createTime': '2024-09-27 13:55:37', 'remarks': ''}, {'id': '1839544439115091969', 'parentId': '1839185495494492162', 'label': '弱电线缆', 'weight': None, 'createTime': '2024-09-27 13:55:46', 'remarks': ''}, {'id': '1844551383865475074', 'parentId': '1839185495494492162', 'label': '配件等', 'weight': None, 'createTime': '2024-10-11 09:31:34', 'remarks': ''}, {'id': '1839544481829883906', 'parentId': '1839185495494492162', 'label': '光缆', 'weight': None, 'createTime': '2024-09-27 13:55:56', 'remarks': ''}, {'id': '1839544457972682754', 'parentId': '1839185495494492162', 'label': '网线', 'weight': None, 'createTime': '2024-09-27 13:55:50', 'remarks': ''}, {'id': '1839544518102224898', 'parentId': '1839185495494492162', 'label': '音频线', 'weight': None, 'createTime': '2024-09-27 13:56:04', 'remarks': ''}]}]}, {'id': '1838835406595010561', 'parentId': 0, 'label': '机械', 'weight': None, 'createTime': '2024-09-25 14:58:19', 'remarks': ''}, {'id': '1838835133864587265', 'parentId': 0, 'label': '消防/安防', 'weight': None, 'createTime': '2024-09-25 14:57:14', 'remarks': '', 'children': [{'id': '1849694024873590785', 'parentId': '1838835133864587265', 'label': '气体灭火', 'weight': None, 'createTime': '2024-10-25 14:06:35', 'remarks': ''}, {'id': '1839184734400282625', 'parentId': '1838835133864587265', 'label': '中心机房', 'weight': None, 'createTime': '2024-09-26 14:06:25', 'remarks': '', 'children': [{'id': '1849644282185564162', 'parentId': '1839184734400282625', 'label': '微模块', 'weight': None, 'createTime': '2024-10-25 10:48:56', 'remarks': ''}, {'id': '1849644417045020673', 'parentId': '1839184734400282625', 'label': '动环监测', 'weight': None, 'createTime': '2024-10-25 10:49:28', 'remarks': ''}, {'id': '1849644209875763202', 'parentId': '1839184734400282625', 'label': 'UPS', 'weight': None, 'createTime': '2024-10-25 10:48:39', 'remarks': ''}, {'id': '1849644309830221825', 'parentId': '1839184734400282625', 'label': '精密空调', 'weight': None, 'createTime': '2024-10-25 10:49:02', 'remarks': ''}]}, {'id': '1839221606686130178', 'parentId': '1838835133864587265', 'label': '门禁', 'weight': None, 'createTime': '2024-09-26 16:32:56', 'remarks': ''}, {'id': '1849283068574089217', 'parentId': '1838835133864587265', 'label': '软件平台', 'weight': None, 'createTime': '2024-10-24 10:53:36', 'remarks': '', 'children': [{'id': '1882337461088100354', 'parentId': '1849283068574089217', 'label': 'AI边缘盒子', 'weight': None, 'createTime': '2025-01-23 15:59:57', 'remarks': ''}]}, {'id': '1839184528430596097', 'parentId': '1838835133864587265', 'label': '楼宇对讲', 'weight': None, 'createTime': '2024-09-26 14:05:36', 'remarks': ''}, {'id': '1839142219596955650', 'parentId': '1838835133864587265', 'label': '视频监控', 'weight': None, 'createTime': '2024-09-26 11:17:29', 'remarks': '', 'children': [{'id': '1849692906319822850', 'parentId': '1839142219596955650', 'label': '监控设备', 'weight': None, 'createTime': '2024-10-25 14:02:09', 'remarks': ''}, {'id': '1849693141448310786', 'parentId': '1839142219596955650', 'label': '监控立杆', 'weight': None, 'createTime': '2024-10-25 14:03:05', 'remarks': ''}]}, {'id': '1839184638413635585', 'parentId': '1838835133864587265', 'label': '电子时钟', 'weight': None, 'createTime': '2024-09-26 14:06:02', 'remarks': ''}, {'id': '1839184358741639170', 'parentId': '1838835133864587265', 'label': '多媒体会议', 'weight': None, 'createTime': '2024-09-26 14:04:56', 'remarks': '', 'children': [{'id': '1849689993614770177', 'parentId': '1839184358741639170', 'label': '投影', 'weight': None, 'createTime': '2024-10-25 13:50:34', 'remarks': ''}, {'id': '1849655903981191170', 'parentId': '1839184358741639170', 'label': '中控系统', 'weight': None, 'createTime': '2024-10-25 11:35:07', 'remarks': ''}, {'id': '1856264068848017409', 'parentId': '1839184358741639170', 'label': '智能灯控', 'weight': None, 'createTime': '2024-11-12 17:13:36', 'remarks': ''}, {'id': '1849694343745552385', 'parentId': '1839184358741639170', 'label': '会议设备', 'weight': None, 'createTime': '2024-10-25 14:07:51', 'remarks': ''}]}, {'id': '1849747735452893186', 'parentId': '1838835133864587265', 'label': '信息发布', 'weight': None, 'createTime': '2024-10-25 17:40:01', 'remarks': ''}, {'id': '1849654921922658305', 'parentId': '1838835133864587265', 'label': '周界/电子围栏', 'weight': None, 'createTime': '2024-10-25 11:31:12', 'remarks': ''}, {'id': '1839184389670436866', 'parentId': '1838835133864587265', 'label': '显示设备', 'weight': None, 'createTime': '2024-09-26 14:05:03', 'remarks': ''}, {'id': '1840669312537444354', 'parentId': '1838835133864587265', 'label': '排队叫号', 'weight': None, 'createTime': '2024-09-30 16:25:36', 'remarks': ''}, {'id': '1839184092415918081', 'parentId': '1838835133864587265', 'label': '车位引导', 'weight': None, 'createTime': '2024-09-26 14:03:52', 'remarks': ''}, {'id': '1839591238685167618', 'parentId': '1838835133864587265', 'label': '能源管理', 'weight': None, 'createTime': '2024-09-27 17:01:43', 'remarks': ''}, {'id': '1849748167055163394', 'parentId': '1838835133864587265', 'label': '电梯控制设备', 'weight': None, 'createTime': '2024-10-25 17:41:44', 'remarks': ''}, {'id': '1839184174288732161', 'parentId': '1838835133864587265', 'label': '计算机网络', 'weight': None, 'createTime': '2024-09-26 14:04:12', 'remarks': '', 'children': [{'id': '1844551817611034625', 'parentId': '1839184174288732161', 'label': '网络安全', 'weight': None, 'createTime': '2024-10-11 09:33:18', 'remarks': ''}, {'id': '1849641968708141058', 'parentId': '1839184174288732161', 'label': '程控交换机', 'weight': None, 'createTime': '2024-10-25 10:39:44', 'remarks': ''}, {'id': '1882336181422727169', 'parentId': '1839184174288732161', 'label': '网关', 'weight': None, 'createTime': '2025-01-23 15:54:52', 'remarks': ''}, {'id': '1844551786887757825', 'parentId': '1839184174288732161', 'label': '交换机', 'weight': None, 'createTime': '2024-10-11 09:33:10', 'remarks': ''}, {'id': '1844551845834506241', 'parentId': '1839184174288732161', 'label': 'AP', 'weight': None, 'createTime': '2024-10-11 09:33:24', 'remarks': ''}, {'id': '1844552120154570753', 'parentId': '1839184174288732161', 'label': '管理计算机', 'weight': None, 'createTime': '2024-10-11 09:34:30', 'remarks': ''}, {'id': '1844551863349919745', 'parentId': '1839184174288732161', 'label': '服务器', 'weight': None, 'createTime': '2024-10-11 09:33:28', 'remarks': ''}]}, {'id': '1839591268775104514', 'parentId': '1838835133864587265', 'label': '智能照明', 'weight': None, 'createTime': '2024-09-27 17:01:51', 'remarks': ''}, {'id': '1849654679382835202', 'parentId': '1838835133864587265', 'label': '入侵报警', 'weight': None, 'createTime': '2024-10-25 11:30:15', 'remarks': ''}, {'id': '1839184224687489026', 'parentId': '1838835133864587265', 'label': '公共广播', 'weight': None, 'createTime': '2024-09-26 14:04:24', 'remarks': ''}, {'id': '1840669357617823745', 'parentId': '1838835133864587265', 'label': '医护对讲', 'weight': None, 'createTime': '2024-09-30 16:25:47', 'remarks': ''}, {'id': '1849284546302885889', 'parentId': '1838835133864587265', 'label': '智慧工地', 'weight': None, 'createTime': '2024-10-24 10:59:28', 'remarks': ''}, {'id': '1844575356602925058', 'parentId': '1838835133864587265', 'label': '消防电', 'weight': None, 'createTime': '2024-10-11 11:06:50', 'remarks': '', 'children': [{'id': '1844576340368539650', 'parentId': '1844575356602925058', 'label': '消防电类配件', 'weight': None, 'createTime': '2024-10-11 11:10:44', 'remarks': ''}, {'id': '1844576212152860674', 'parentId': '1844575356602925058', 'label': '火灾报警器', 'weight': None, 'createTime': '2024-10-11 11:10:14', 'remarks': ''}, {'id': '1844576180578140161', 'parentId': '1844575356602925058', 'label': '火灾探测器', 'weight': None, 'createTime': '2024-10-11 11:10:06', 'remarks': ''}]}, {'id': '1849748229407686657', 'parentId': '1838835133864587265', 'label': '客房控制设备', 'weight': None, 'createTime': '2024-10-25 17:41:59', 'remarks': ''}, {'id': '1844574270026530817', 'parentId': '1838835133864587265', 'label': '消防水', 'weight': None, 'createTime': '2024-10-11 11:02:31', 'remarks': '', 'children': [{'id': '1844575733410807810', 'parentId': '1844574270026530817', 'label': '水带卷盘', 'weight': None, 'createTime': '2024-10-11 11:08:20', 'remarks': ''}, {'id': '1844575676200501249', 'parentId': '1844574270026530817', 'label': '消防泵', 'weight': None, 'createTime': '2024-10-11 11:08:06', 'remarks': ''}, {'id': '1844575642167918594', 'parentId': '1844574270026530817', 'label': '消防栓', 'weight': None, 'createTime': '2024-10-11 11:07:58', 'remarks': ''}, {'id': '1844575612342222850', 'parentId': '1844574270026530817', 'label': '喷头', 'weight': None, 'createTime': '2024-10-11 11:07:51', 'remarks': ''}, {'id': '1844575454279876613', 'parentId': '1844574270026530817', 'label': '阀门管件', 'weight': None, 'createTime': '2024-10-11 11:07:13', 'remarks': ''}, {'id': '1856257622299238402', 'parentId': '1844574270026530817', 'label': '消防管件', 'weight': None, 'createTime': '2024-11-12 16:47:59', 'remarks': ''}]}, {'id': '1839183481301630978', 'parentId': '1838835133864587265', 'label': '电子巡更', 'weight': None, 'createTime': '2024-09-26 14:01:26', 'remarks': ''}, {'id': '1839184028767354882', 'parentId': '1838835133864587265', 'label': '停车场管理', 'weight': None, 'createTime': '2024-09-26 14:03:37', 'remarks': ''}, {'id': '1856597860489887746', 'parentId': '1838835133864587265', 'label': '通风空调', 'weight': None, 'createTime': '2024-11-13 15:19:58', 'remarks': ''}, {'id': '1839183516609282050', 'parentId': '1838835133864587265', 'label': '无线对讲', 'weight': None, 'createTime': '2024-09-26 14:01:35', 'remarks': ''}, {'id': '1839142338786492418', 'parentId': '1838835133864587265', 'label': '出入口控制', 'weight': None, 'createTime': '2024-09-26 11:17:57', 'remarks': ''}, {'id': '1839591211787096065', 'parentId': '1838835133864587265', 'label': '楼控', 'weight': None, 'createTime': '2024-09-27 17:01:37', 'remarks': ''}, {'id': '1852232935055298561', 'parentId': '1838835133864587265', 'label': '一卡通', 'weight': None, 'createTime': '2024-11-01 14:15:19', 'remarks': ''}]}, {'id': '1839215141313314817', 'parentId': 0, 'label': '五金', 'weight': None, 'createTime': '2024-09-26 16:07:15', 'remarks': ''}, {'id': '1838864386610016258', 'parentId': 0, 'label': '智能家居', 'weight': None, 'createTime': '2024-09-25 16:53:28', 'remarks': ''}, {'id': '1904446404508016641', 'parentId': 0, 'label': '医疗类', 'weight': None, 'createTime': '2025-03-25 16:13:00', 'remarks': '', 'children': [{'id': '1904446442873315330', 'parentId': '1904446404508016641', 'label': '智能手环', 'weight': None, 'createTime': '2025-03-25 16:13:09', 'remarks': ''}]}, {'id': '1945301244142903297', 'parentId': 0, 'label': 'demo', 'weight': 9991, 'createTime': '2025-07-16 09:55:33', 'remarks': '描述'}, {'id': '1945310842128130049', 'parentId': 0, 'label': 'new-demo', 'weight': 99901, 'createTime': '2025-07-16 10:33:42', 'remarks': '修改备注'}]} 《
》》 INFO     2025-07-22 17:13:07 [pytest_result_log:190] :  test status is PASSED (testCase/test_select_statistics.py::TestSupplierMaterial::test_select_material_category_valid[SelectMaterialCategory]):  《
》》 INFO     2025-07-22 17:13:07 [pytest_result_log:128] :  End: testCase/test_select_statistics.py::TestSupplierMaterial::test_select_material_category_valid[SelectMaterialCategory] 《
》》 INFO     2025-07-22 17:13:07 [pytest_result_log:122] :  Start: testCase/test_select_statistics.py::TestSupplierMaterial::test_add_material_category_valid[AddMaterialCategory] 《
》》 ERROR    2025-07-22 17:13:07 [pytest_result_log:190] :  test status is FAILED (testCase/test_select_statistics.py::TestSupplierMaterial::test_add_material_category_valid[AddMaterialCategory]): KeyError 《
》》 INFO     2025-07-22 17:13:07 [pytest_result_log:194] :  testCase/test_select_statistics.py::TestSupplierMaterial::test_add_material_category_valid[AddMaterialCategory] -> self = <auto_tester.testCase.test_select_statistics.TestSupplierMaterial object at 0x00000175838D3010>
api_params = {'id': '1945310842128130049'}, all_api = <common.prepare_api.AllApi object at 0x00000175838D3A50>

    @pytest.mark.parametrize("api_params", ["AddMaterialCategory"], indirect=True)
    def test_add_material_category_valid(self, api_params: dict, all_api: AllApi):
        """
        测试修改SCM材料分类接口
        """
        # 打印合并后的请求参数（供调试）
        # print("新增参数：", api_params)
>       api_name = api_params["api_name"]
                   ^^^^^^^^^^^^^^^^^^^^^^
E       KeyError: 'api_name'

testCase\test_select_statistics.py:47: KeyError 《
》》 INFO     2025-07-22 17:13:07 [pytest_result_log:128] :  End: testCase/test_select_statistics.py::TestSupplierMaterial::test_add_material_category_valid[AddMaterialCategory] 《
